<div class="card">
  <h2>Activit√© 5 : Combinaison de ngIf, ngFor, ngClass et ngStyle</h2>

  <div class="progress-section">
    <h3>Progression</h3>
    <div class="progress-info">
      <span>{{ completedCount }} / {{ totalCount }} t√¢ches compl√©t√©es</span>
      <span class="percentage">{{ progressPercentage | number:'1.0-0' }}%</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="progressPercentage"></div>
    </div>
  </div>

  <div class="form-section">
    <h3>Ajouter une nouvelle t√¢che</h3>
    <div class="form-group">
      <label>Description :</label>
      <input 
        type="text" 
        [(ngModel)]="newDescription"
        placeholder="Entrez la description"
        (keyup.enter)="addTache()">
    </div>

    <div class="form-group">
      <label>Priorit√© :</label>
      <select [(ngModel)]="newPriorite">
        <option value="haute">üî¥ Haute</option>
        <option value="moyenne">üü° Moyenne</option>
        <option value="basse">üü¢ Basse</option>
      </select>
    </div>

    <button (click)="addTache()" class="btn-primary">‚ûï Ajouter la t√¢che</button>
  </div>

  <div class="tasks-section">
    <h3>T√¢ches ({{ taches.length }})</h3>

    <div *ngIf="taches.length === 0" class="no-tasks">
      <p>Aucune t√¢che pour le moment. Ajoutez-en une!</p>
    </div>

    <div *ngFor="let tache of taches; let i = index" 
         [ngClass]="getTacheClass(tache)"
         class="task-card">
      <div class="task-content">
        <p class="task-description">{{ tache.description }}</p>
        <span class="task-priority" [ngStyle]="{ backgroundColor: getPrioriteColor(tache.priorite) }">
          {{ tache.priorite }}
        </span>
      </div>

      <button (click)="toggleTache(i)" class="btn-toggle">
        {{ tache.statut ? '‚úÖ Compl√©t√©e' : '‚≠ï √Ä faire' }}
      </button>

      <button (click)="deleteTache(i)" class="btn-delete">üóëÔ∏è</button>
    </div>
  </div>

  <div class="info-box">
    <h3>Concepts utilis√©s :</h3>
    <ul>
      <li><strong>*ngIf</strong> : Affichage conditionnel du message "Aucune t√¢che"</li>
      <li><strong>*ngFor</strong> : It√©ration sur le tableau de t√¢ches</li>
      <li><strong>[ngClass]</strong> : Classes dynamiques selon le statut et la priorit√©</li>
      <li><strong>[ngStyle]</strong> : Couleur dynamique de la priorit√©</li>
      <li><strong>Propri√©t√©s calcul√©es</strong> : Progression et statistiques</li>
    </ul>
  </div>
</div>
