<div class="card">
  <h2>ActivitÃ© 6 : Affichage conditionnel avancÃ© avec ngIf et else</h2>

  <div class="progress-section">
    <h3>Progression</h3>
    <div class="progress-info">
      <span>{{ completedCount }} / {{ totalCount }} tÃ¢ches complÃ©tÃ©es</span>
      <span class="percentage">{{ progressPercentage | number:'1.0-0' }}%</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="progressPercentage"></div>
    </div>
  </div>

  <div class="form-section">
    <h3>Ajouter une nouvelle tÃ¢che</h3>
    <div class="form-group">
      <label>Description :</label>
      <input 
        type="text" 
        [(ngModel)]="newDescription"
        placeholder="Entrez la description"
        (keyup.enter)="addTache()">
    </div>

    <div class="form-group">
      <label>PrioritÃ© :</label>
      <select [(ngModel)]="newPriorite">
        <option value="haute">ğŸ”´ Haute</option>
        <option value="moyenne">ğŸŸ¡ Moyenne</option>
        <option value="basse">ğŸŸ¢ Basse</option>
      </select>
    </div>

    <div class="button-group">
      <button (click)="addTache()" class="btn-primary">â• Ajouter la tÃ¢che</button>
      <button (click)="clearCompleted()" class="btn-secondary" *ngIf="completedCount > 0">
        ğŸ—‘ï¸ Effacer les complÃ©tÃ©es
      </button>
    </div>
  </div>

  <!-- Section TÃ¢ches en cours -->
  <div class="tasks-section">
    <h3>TÃ¢ches en cours ({{ activeTaches.length }})</h3>

    <div *ngIf="activeTaches.length > 0; else pasDeTaches">
      <div *ngFor="let tache of activeTaches; let i = index" 
           [ngClass]="getTacheClass(tache)"
           class="task-card">
        <div class="task-content">
          <p class="task-description">{{ tache.description }}</p>
          <span class="task-priority" [ngStyle]="{ backgroundColor: getPrioriteColor(tache.priorite) }">
            {{ tache.priorite }}
          </span>
        </div>

        <button (click)="toggleTache(taches.indexOf(tache))" class="btn-toggle">
          {{ tache.statut ? 'âœ… ComplÃ©tÃ©e' : 'â­• Ã€ faire' }}
        </button>

        <button (click)="deleteTache(taches.indexOf(tache))" class="btn-delete">ğŸ—‘ï¸</button>
      </div>
    </div>

    <ng-template #pasDeTaches>
      <div class="no-tasks">
        <p>Vous n'avez pas de tÃ¢ches en cours</p>
      </div>
    </ng-template>
  </div>

  <!-- Section TÃ¢ches complÃ©tÃ©es -->
  <div class="tasks-section" *ngIf="completedTaches.length > 0">
    <h3>TÃ¢ches complÃ©tÃ©es ({{ completedCount }})</h3>

    <div *ngFor="let tache of completedTaches; let i = index" 
         [ngClass]="getTacheClass(tache)"
         class="task-card">
      <div class="task-content">
        <p class="task-description">{{ tache.description }}</p>
        <span class="task-priority" [ngStyle]="{ backgroundColor: getPrioriteColor(tache.priorite) }">
          {{ tache.priorite }}
        </span>
      </div>

      <button (click)="toggleTache(taches.indexOf(tache))" class="btn-toggle">
        {{ tache.statut ? 'âœ… ComplÃ©tÃ©e' : 'â­• Ã€ faire' }}
      </button>

      <button (click)="deleteTache(taches.indexOf(tache))" class="btn-delete">ğŸ—‘ï¸</button>
    </div>
  </div>

  <div class="info-box">
    <h3>Concepts utilisÃ©s :</h3>
    <ul>
      <li><strong>*ngIf...else</strong> : Affichage alternatif avec ng-template</li>
      <li><strong>ng-template</strong> : Template alternatif pour "Aucune tÃ¢che en cours"</li>
      <li><strong>*ngFor</strong> : ItÃ©ration sur les tÃ¢ches</li>
      <li><strong>[ngClass]</strong> : Classes dynamiques selon le statut</li>
      <li><strong>[ngStyle]</strong> : Couleur dynamique de la prioritÃ©</li>
      <li><strong>PropriÃ©tÃ©s calculÃ©es</strong> : Getters pour les tÃ¢ches actives/complÃ©tÃ©es</li>
    </ul>
  </div>
</div>
